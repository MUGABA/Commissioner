"use strict";(self.webpackChunkmatx_react=self.webpackChunkmatx_react||[]).push([[291],{73291:function(e,n,r){r.r(n),r.d(n,{Container:function(){return R},default:function(){return E}});var t=r(1413),a=r(37762),s=r(29439),i=r(74165),l=r(15861),o=r(29886),c=r(39709),u=r(68870),d=r(57621),x=r(20890),p=r(61889),h=r(68096),Z=r(17133),f=r(85523),g=r(93006),m=r(61419),b=r(88970),v=r(93457),j=r(10649),y=r(3606),w=r(92506),D=r(72791),k=r(57689),A=r(62797),C=r(79012),S=r(58406),P=r(23786),N=r(57064),B=r(94454),F=r(49900),O=(0,r(72455).Z)((function(e){return{formControl:{margin:e.spacing(1),width:"100%"},indeterminateColor:{color:"#f50057"},selectAllText:{fontWeight:500},selectedAll:{backgroundColor:"rgba(0, 0, 0, 0.08)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}})),q={PaperProps:{style:{maxHeight:224,width:250}},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},variant:"menu"},z=["Oliver Hansen","Van Henry","April Tucker","Ralph Hubbard","Omar Alexander","Carlos Abbott","Miriam Wagner","Bradley Wilkerson","Virginia Andrews","Kelly Snyder"],H=r(80184),V=function(e){var n=e.list,r=e.displayName,t=e.setAttributes,a=e.label,i=e.selectedFood,l=O(),o=(0,D.useState)(i),c=(0,s.Z)(o,2),u=c[0],d=c[1];return(0,H.jsxs)(C.Z,{children:[(0,H.jsx)(Z.Z,{children:a}),(0,H.jsx)(h.Z,{className:l.formControl,children:(0,H.jsx)(S.Z,{size:"small",labelId:"mutiple-select-label",multiple:!0,value:u,onChange:function(e){var n=e.target.value;"all"!==n[n.length-1]?(d(n),t(n)):d(u.length===z.length?[]:z)},renderValue:function(){return u.map((function(e){return"".concat(e[r],",")}))},MenuProps:q,children:n.map((function(e,n){return(0,H.jsxs)(P.Z,{value:e,style:{display:"flex"},children:[(0,H.jsx)(N.Z,{children:(0,H.jsx)(B.Z,{checked:u.indexOf(e)>-1})}),(0,H.jsx)(F.Z,{primary:e[r]})]},n)}))})})]})},Y=(0,v.Z)(u.Z)((function(){return{display:"flex",alignItems:"center"}})),_=(0,v.Z)(Y)((function(){return{justifyContent:"center"}})),R=(0,v.Z)(_)((function(){return{width:"90vw","& .card":{width:"80vw",margin:"1rem",borderRadius:12},borderColor:"#1A2038"}})),W=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.post("".concat(y.Z.url,"/cares/make-request"),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),E=function(){(0,o.u)();var e=(0,k.s0)(),n=(0,D.useState)(!1),r=(0,s.Z)(n,2),v=r[0],C=r[1],S=(0,D.useState)([]),P=(0,s.Z)(S,2),N=P[0],B=P[1],F=(0,D.useState)([]),O=(0,s.Z)(F,2),q=O[0],z=O[1],Y=(0,D.useState)([]),_=(0,s.Z)(Y,2),E=_[0],T=_[1],I=(0,D.useState)({anyAllergies:"",beenDiagnosed:"",diagnosedDisease:"",recommendedBy:""}),M=(0,s.Z)(I,2),G=M[0],J=M[1],K=(0,D.useState)([]),L=(0,s.Z)(K,2),U=(L[0],L[1]),Q=(0,k.UO)().requestId,X=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.get("".concat(y.Z.url,"/food"));case 2:n=e.sent,r=n.data.data,z(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(){var n,r,t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.get("/cares//get-single/".concat(Q));case 2:n=e.sent,r=n.data.data,(t=r.allergicFoods.split(",").map((function(e){return e.length>1?{name:e}:null}))).pop(),T(t),J(r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.put("".concat(y.Z.url,"/cares/food-recommended/").concat(Q),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),ne=function(){var e=(0,l.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=5;break}return e.next=3,ee(n);case 3:e.next=7;break;case 5:return e.next=7,W(n);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();(0,D.useEffect)((function(){$(),X()}),[]);var re=function(){var n=(0,l.Z)((0,i.Z)().mark((function n(r){var s,l,o,c,u,d,x,p,h;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:C(!0),s="",l=(0,a.Z)(N);try{for(l.s();!(o=l.n()).done;)c=o.value,s+="".concat(c.name,",")}catch(i){l.e(i)}finally{l.f()}u="",d=(0,a.Z)(N);try{for(d.s();!(x=d.n()).done;)p=x.value,u+="".concat(p.name,",")}catch(i){d.e(i)}finally{d.f()}return h=(0,t.Z)({allergicFoods:s,recommendedFoods:u},r),n.prev=8,n.next=11,ne(h);case 11:e("/dashboard/view-patient-requests"),C(!1),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(8),C(!1);case 18:case"end":return n.stop()}}),n,null,[[8,15]])})));return function(e){return n.apply(this,arguments)}}(),te=A.Ry().shape({anyAllergies:A.Z_().required("Select one"),beenDiagnosed:A.Z_().required("Select one"),diagnosedDisease:A.Z_().nullable(),description:A.Z_().nullable()}),ae=G.anyAllergies,se=G.beenDiagnosed,ie=G.diagnosedDisease;return(0,H.jsx)(R,{children:(0,H.jsxs)(d.Z,{className:"card",children:[(0,H.jsx)(x.Z,{variant:"h4",sx:{textAlign:"center"},children:"Send Nutrition request"}),(0,H.jsx)(p.ZP,{container:!0,children:(0,H.jsx)(p.ZP,{item:!0,sm:12,xs:12,children:(0,H.jsx)(u.Z,{p:4,height:"100%",children:(0,H.jsx)(w.J9,{enableReinitialize:!0,onSubmit:re,initialValues:{anyAllergies:ae||"No",beenDiagnosed:se||"No",diagnosedDisease:ie||"",description:""},validationSchema:te,children:function(e){var n=e.values,r=e.errors,t=e.touched,a=e.handleChange,s=e.handleBlur,i=e.handleSubmit;return(0,H.jsxs)("form",{onSubmit:i,children:[(0,H.jsxs)(p.ZP,{container:!0,spacing:6,children:[(0,H.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:(0,H.jsxs)(h.Z,{sx:{margin:"1rem 0rem"},children:[(0,H.jsx)(Z.Z,{id:"demo-radio-buttons-group-label",children:"Do you have any allergies"}),(0,H.jsxs)(b.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"No",name:"anyAllergies",value:n.anyAllergies,onChange:a,sx:{display:"flex",flexDirection:"row"},children:[(0,H.jsx)(f.Z,{value:"No",control:(0,H.jsx)(m.Z,{}),label:"NO"}),(0,H.jsx)(f.Z,{value:"Yes",control:(0,H.jsx)(m.Z,{}),label:"YES"})]})]})}),(0,H.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:(0,H.jsxs)(h.Z,{sx:{margin:"1rem 0rem"},children:[(0,H.jsx)(Z.Z,{id:"demo-radio-buttons-group-label",children:"Have you been diagnosed recently?"}),(0,H.jsxs)(b.Z,{"aria-labelledby":"demo-radio-buttons-group-label",defaultValue:"No",name:"beenDiagnosed",value:n.beenDiagnosed,onChange:a,sx:{display:"flex",flexDirection:"row"},children:[(0,H.jsx)(f.Z,{value:"No",control:(0,H.jsx)(m.Z,{}),label:"NO"}),(0,H.jsx)(f.Z,{value:"Yes",control:(0,H.jsx)(m.Z,{}),label:"YES"})]})]})})]}),(0,H.jsxs)(p.ZP,{container:!0,spacing:6,children:[(0,H.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:"Yes"===n.anyAllergies?(0,H.jsx)(V,{list:q,displayName:"name",setAttributes:B,selectedFood:E,label:"PLease select allergic foods"}):""}),(0,H.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:"Yes"===n.beenDiagnosed?(0,H.jsx)(g.Z,{fullWidth:!0,size:"small",name:"diagnosedDisease",type:"text",label:"Please enter diagnosed diseases here.",variant:"outlined",onBlur:s,value:n.diagnosedDisease,onChange:a,helperText:t.diagnosedDisease&&r.diagnosedDisease,error:Boolean(r.diagnosedDisease&&t.diagnosedDisease),sx:{mb:2}}):""})]}),Q?(0,H.jsxs)(p.ZP,{container:!0,spacing:6,children:[(0,H.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:(0,H.jsx)(V,{list:q,displayName:"name",setAttributes:U,selectedFood:[],label:"Suggest Foods for this patient"})}),(0,H.jsx)(p.ZP,{item:!0,xs:12,lg:6,children:(0,H.jsx)(g.Z,{fullWidth:!0,size:"small",name:"description",type:"text",label:"Please enter description.",variant:"outlined",onBlur:s,value:n.description,onChange:a,helperText:t.description&&r.description,error:Boolean(r.description&&t.description),sx:{mb:2}})})]}):"",(0,H.jsx)(c.Z,{type:"submit",color:"primary",loading:v,variant:"contained",sx:{mb:2,mt:3},children:Q?"Give Feed Back":"Request Diet Help"})]})}})})})})]})})}}}]);
//# sourceMappingURL=291.ae59746a.chunk.js.map